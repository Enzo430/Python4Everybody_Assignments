<!DOCTYPE html>
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PY4E - Python for Everybody</title>
        <script>
        var _TSUGI = {
            context_title: "Using Python to Access Web Data",
            link_title: "Extracting Data With Regular Expressions",
            user_displayname: "Ziwei Zhang",
            ajax_session: "PHPSESSID=2a0fa60717880c87ea887a60b03a3db8",
            heartbeat: 1500000,
            heartbeat_url: "https://www.py4e.com/tsugi/util/heartbeat?msec=1500000&PHPSESSID=2a0fa60717880c87ea887a60b03a3db8",
            rest_path: {"parent":"\/tools\/python-data","base_url":"https:\/\/www.py4e.com","controller":"","extra":"","action":false,"parameters":[],"current":"\/tools\/python-data","full":"\/tools\/python-data"},
            spinnerUrl: "https://static.tsugi.org/img/spinner.gif",
            staticroot: "https://static.tsugi.org",
            websocket_url: false,
            websocket_token: false,
            window_close_message: "Application complete",
            session_expire_message: "Your session has expired"
        }
        </script>
        <!-- Tiny bit of JS -->
        <script src="https://static.tsugi.org/js/tsugiscripts_head.js"></script>
        <!-- Le styles -->
        <link href="https://static.tsugi.org/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://static.tsugi.org/js/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet">
                <link href="https://static.tsugi.org/fontawesome-free-5.8.2-web/css/all.css" rel="stylesheet">
        <link href="https://static.tsugi.org/fontawesome-free-5.8.2-web/css/v4-shims.css" rel="stylesheet">
        <style>:root {--primary:#0D47A1;--primary-border:#0d4295;--primary-darker:#0c4091;--primary-darkest:#0b3b85;--secondary:#EEEEEE;--text:#111111;--text-light:#5E5E5E;--font-family:sans-serif;--font-size:14px;}</style>
          <link href="https://static.tsugi.org/css/tsugi.css" rel="stylesheet">

          <style>
                        </style>
<style>
a[target="_blank"]:after {
    font-family: 'Font Awesome 5 Free';
    font-weight: 600;
    content: " \f35d";
}
.goog-te-banner-frame.skiptranslate {
    display: none !important;
    }
body {
    top: 0px !important;
    }
</style>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="http://localhost/tsugi/vendor/tsugi/lib/static/js/html5shiv/html5shiv.js"></script>
          <script src="http://localhost/tsugi/vendor/tsugi/lib/static/js/respond/respond.min.js"></script>
        <![endif]-->

    <script type="text/javascript">CSRF_TOKEN = "5e098833b0ff4";</script>
</head>
<body prefix="oer: http://oerschema.org">
<div id="body_container">
<script>
if (window!=window.top) {
    document.getElementById("body_container").className = "container-fluid";
} else {
    document.getElementById("body_container").className = "container";
}
</script>
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" id="tsugi_main_nav_bar" style="display:none">  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="javascript:window_close();">Done</a>
    </div>
    <div class="navbar-collapse collapse">
    </div> <!--/.nav-collapse -->
  </div> <!--container -->
</nav>
<script>
if ( ! inIframe() ) {
  document.getElementById('tsugi_main_nav_bar').style.display = 'block';
  document.getElementsByTagName('body')[0].style.paddingTop = '5.93rem';
}
</script>
<span style="float: right;"></span><!-- Modal -->
<div id="settings" class="modal fade" role="dialog" style="display: none;">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span class="fa fa-close" aria-hidden="true"></span><span class="sr-only">Close</span></button>
        <h4 class="modal-title">Extracting Data With Regular Expressions Settings</h4>
      </div>
      <div class="modal-body">
                  <img id="settings_spinner" src="https://static.tsugi.org/img/spinner.gif" style="display: none">
            <span id="save_fail" class="text-danger" style="display:none;">Unable to save settings</span>
            <p>Exercise is set to Sum with a Regular Expression</p><p>There is currently no due date/time for this assignment.</p>
              </div>
    </div>

  </div>
</div>
<p>Welcome Ziwei Zhang from Using Python to Access Web Data</p>
<div id="flashmessages"></div><p>
<b>Finding Numbers in a Haystack</b>
<p>
In this assignment you will read through and parse a file with text and numbers.  You will extract all the numbers
in the file and compute the sum of the numbers.
</p>
<b>Data Files</b>
<p>
We provide two files for this assignment.  One is a sample file where we give you the sum for your
testing and the other is the actual data you need to process for the assignment.  
<ul>
<li> Sample data: <a href="http://py4e-data.dr-chuck.net/regex_sum_42.txt" target="_blank">http://py4e-data.dr-chuck.net/regex_sum_42.txt</a> 
(There are 90 values with a sum=445833) </li>
<li> Actual data: <a href="http://py4e-data.dr-chuck.net/regex_sum_346105.txt" target="_blank">http://py4e-data.dr-chuck.net/regex_sum_346105.txt</a> 
(There are 90 values and the sum ends with 750)<br/> </li>
</ul>
These links open in a new window.
Make sure to save the file into the same folder as you will be writing your Python program.
<b>Note:</b> Each student will have a distinct data file for the assignment - so only use your
own data file for analysis.
</p>
<b>Data Format</b>
<p>
The file contains much of the text from the introduction of the textbook
except that random numbers are inserted throughout the text.  Here is a sample of the output you might see:
<pre>Why should you learn to write programs? 7746
12 1929 8827
Writing programs (or programming) is a very creative 
7 and rewarding activity.  You can write programs for 
many reasons, ranging from making your living to solving
8837 a difficult data analysis problem to having fun to helping 128
someone else solve a problem.  This book assumes that 
everyone needs to know how to program ...
</pre>
The sum for the sample text above is <b>27486</b>.
The numbers can appear anywhere in the line.  There can be any number of 
numbers in each line (including none).
</p>
<b>Handling The Data</b>
<p>
The basic outline of this problem is to read the file, look for integers using the
<b>re.findall()</b>, looking for a regular expression of <b>'[0-9]+'</b> and then 
converting the extracted strings to integers and summing up the integers.
</p>
<p>
<b>Turn in Assignent</b>
<form method="post"><input type="hidden" name="PHPSESSID" value="2a0fa60717880c87ea887a60b03a3db8" />
Enter the sum from the actual data and your Python code below:<br/>
Sum: <input type="text" size="20" name="sum"> (ends with 750)
<input type="submit" value="Submit Assignment"><br/>
Python code:<br/>
<textarea rows="20" style="width: 90%" name="code"></textarea><br/>
</form>
</p>
<b>Optional: Just for Fun</b>
<p>
There are a number of different ways to approach this problem.  While we don't recommend trying
to write the most compact code possible, it can sometimes be a fun exercise.  Here is a 
a redacted version of two-line version of this program using list comprehension:
<pre>Python 2
import re
print sum( [ ****** *** * in **********('[0-9]+',**************************.read()) ] )

Python 3:
import re
print( sum( [ ****** *** * in **********('[0-9]+',**************************.read()) ] ) )
</pre>
Please don't waste a lot of time trying to figure out the shortest solution until you 
have completed the homework.   List comprehension is mentioned in Chapter 10 and the 
<b>read()</b> method is covered in Chapter 7.
</p>

<script src="https://static.tsugi.org/js/jquery-1.11.3.js"></script>
<script src="https://static.tsugi.org/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script src="https://static.tsugi.org/js/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="https://static.tsugi.org/js/jquery.timeago-1.6.3.js"></script>
<script src="https://static.tsugi.org/js/handlebars-v4.0.2.js"></script>
<script src="https://static.tsugi.org/tmpljs-3.8.0/tmpl.min.js"></script>
<script src="https://static.tsugi.org/js/tsugiscripts.js"></script>
<script type="text/javascript">
    HEARTBEAT_TIMEOUT = setTimeout(doHeartBeat, _TSUGI.heartbeat);
    tsugiEmbedMenu();
</script>
<script>
// PHP VERSION 7.0 and 7.1 HACK
// https://stackoverflow.com/questions/44980654/how-can-i-make-trans-sid-cookie-less-sessions-work-in-php-7-1
$('a').each(function (x) {
    var href = $(this).attr('href');
    if ( ! href ) return;
    if ( ! href.startsWith('#') ) return;
    var pos = href.indexOf('/?');
    if ( pos < 1 ) return;
    console.dir('Patching broken # href='+href);
    href = href.substring(0,pos);
    $(this).attr('href', href);
});
console.log('Checking malformed href for php 7.0');
$('a').each(function (x) {
    var href = $(this).attr('href');
    var sess_name = 'PHPSESSID';
    var sess_id = '2a0fa60717880c87ea887a60b03a3db8';
    if ( ! href ) return;
    if ( href.startsWith('#') ) return;
    if ( href.startsWith('http://') ) return;
    if ( href.startsWith('javascript:') ) return;
    if ( href.startsWith('https://') ) return;
    if ( href.startsWith('//') ) return;
    if ( href.indexOf(sess_name) > 0 ) return;
    if ( href.indexOf('?') > 0 ) {
        href = href + '&';
    } else {
        href = href + '?';
    }
    href = href + sess_name + '=' + sess_id;
    console.dir('Patching missing session href='+href);
    $(this).attr('href', href);
});

</script>

</div></body>
</html>
